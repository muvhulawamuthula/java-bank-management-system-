-------------------------------------------------------------------------------
Test set: com.bankafrica.bankingapp.controller.ControllerErrorHandlingTest
-------------------------------------------------------------------------------
Tests run: 13, Failures: 11, Errors: 0, Skipped: 0, Time elapsed: 0.328 s <<< FAILURE! -- in com.bankafrica.bankingapp.controller.ControllerErrorHandlingTest
com.bankafrica.bankingapp.controller.ControllerErrorHandlingTest.testRegisterWithServerError -- Time elapsed: 0.012 s <<< FAILURE!
java.lang.AssertionError: Status expected:<500> but was:<400>
	at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:61)
	at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:128)
	at org.springframework.test.web.servlet.result.StatusResultMatchers.lambda$matcher$9(StatusResultMatchers.java:640)
	at org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:214)
	at com.bankafrica.bankingapp.controller.ControllerErrorHandlingTest.testRegisterWithServerError(ControllerErrorHandlingTest.java:85)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)

com.bankafrica.bankingapp.controller.ControllerErrorHandlingTest.testRegisterWithMissingFields -- Time elapsed: 0.008 s <<< FAILURE!
java.lang.AssertionError: 
Response content
Expected: a string containing "Required fields missing"
     but: was "Cannot invoke "Object.toString()" because the return value of "java.util.Map.get(Object)" is null"
	at org.hamcrest.MatcherAssert.assertThat(MatcherAssert.java:20)
	at org.springframework.test.web.servlet.result.ContentResultMatchers.lambda$string$3(ContentResultMatchers.java:141)
	at org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:214)
	at com.bankafrica.bankingapp.controller.ControllerErrorHandlingTest.testRegisterWithMissingFields(ControllerErrorHandlingTest.java:60)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)

com.bankafrica.bankingapp.controller.ControllerErrorHandlingTest.testGetProfileWithInvalidIdPathVariable -- Time elapsed: 0.013 s <<< FAILURE!
java.lang.AssertionError: 
Response content
Expected: a string containing "Invalid user ID format"
     but: was ""
	at org.hamcrest.MatcherAssert.assertThat(MatcherAssert.java:20)
	at org.springframework.test.web.servlet.result.ContentResultMatchers.lambda$string$3(ContentResultMatchers.java:141)
	at org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:214)
	at com.bankafrica.bankingapp.controller.ControllerErrorHandlingTest.testGetProfileWithInvalidIdPathVariable(ControllerErrorHandlingTest.java:188)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)

com.bankafrica.bankingapp.controller.ControllerErrorHandlingTest.testInvalidJson -- Time elapsed: 0.006 s <<< FAILURE!
java.lang.AssertionError: 
Response content
Expected: a string containing "Invalid JSON format"
     but: was ""
	at org.hamcrest.MatcherAssert.assertThat(MatcherAssert.java:20)
	at org.springframework.test.web.servlet.result.ContentResultMatchers.lambda$string$3(ContentResultMatchers.java:141)
	at org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:214)
	at com.bankafrica.bankingapp.controller.ControllerErrorHandlingTest.testInvalidJson(ControllerErrorHandlingTest.java:222)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)

com.bankafrica.bankingapp.controller.ControllerErrorHandlingTest.testGetAccountWithInvalidIdPathVariable -- Time elapsed: 0.007 s <<< FAILURE!
java.lang.AssertionError: 
Response content
Expected: a string containing "Invalid account ID format"
     but: was ""
	at org.hamcrest.MatcherAssert.assertThat(MatcherAssert.java:20)
	at org.springframework.test.web.servlet.result.ContentResultMatchers.lambda$string$3(ContentResultMatchers.java:141)
	at org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:214)
	at com.bankafrica.bankingapp.controller.ControllerErrorHandlingTest.testGetAccountWithInvalidIdPathVariable(ControllerErrorHandlingTest.java:179)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)

com.bankafrica.bankingapp.controller.ControllerErrorHandlingTest.testDepositWithInvalidAmountFormat -- Time elapsed: 0.006 s <<< FAILURE!
java.lang.AssertionError: 
Response content
Expected: a string containing "Invalid amount format"
     but: was "{"error":"Deposit failed: Character i is neither a decimal digit number, decimal point, nor \"e\" notation exponential mark."}"
	at org.hamcrest.MatcherAssert.assertThat(MatcherAssert.java:20)
	at org.springframework.test.web.servlet.result.ContentResultMatchers.lambda$string$3(ContentResultMatchers.java:141)
	at org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:214)
	at com.bankafrica.bankingapp.controller.ControllerErrorHandlingTest.testDepositWithInvalidAmountFormat(ControllerErrorHandlingTest.java:134)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)

com.bankafrica.bankingapp.controller.ControllerErrorHandlingTest.testCreateAccountWithMissingFields -- Time elapsed: 0.006 s <<< FAILURE!
java.lang.AssertionError: 
Response content
Expected: a string containing "Account holder name is required"
     but: was "{"error":"Account creation failed: Cannot invoke \"Object.toString()\" because the return value of \"java.util.Map.get(Object)\" is null"}"
	at org.hamcrest.MatcherAssert.assertThat(MatcherAssert.java:20)
	at org.springframework.test.web.servlet.result.ContentResultMatchers.lambda$string$3(ContentResultMatchers.java:141)
	at org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:214)
	at com.bankafrica.bankingapp.controller.ControllerErrorHandlingTest.testCreateAccountWithMissingFields(ControllerErrorHandlingTest.java:203)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)

com.bankafrica.bankingapp.controller.ControllerErrorHandlingTest.testDepositWithInvalidAccountIdFormat -- Time elapsed: 0.006 s <<< FAILURE!
java.lang.AssertionError: 
Response content
Expected: a string containing "Invalid account ID format"
     but: was "{"error":"Deposit failed: For input string: \"invalid-id\""}"
	at org.hamcrest.MatcherAssert.assertThat(MatcherAssert.java:20)
	at org.springframework.test.web.servlet.result.ContentResultMatchers.lambda$string$3(ContentResultMatchers.java:141)
	at org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:214)
	at com.bankafrica.bankingapp.controller.ControllerErrorHandlingTest.testDepositWithInvalidAccountIdFormat(ControllerErrorHandlingTest.java:118)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)

com.bankafrica.bankingapp.controller.ControllerErrorHandlingTest.testWithdrawWithServerError -- Time elapsed: 0.007 s <<< FAILURE!
java.lang.AssertionError: Status expected:<500> but was:<400>
	at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:61)
	at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:128)
	at org.springframework.test.web.servlet.result.StatusResultMatchers.lambda$matcher$9(StatusResultMatchers.java:640)
	at org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:214)
	at com.bankafrica.bankingapp.controller.ControllerErrorHandlingTest.testWithdrawWithServerError(ControllerErrorHandlingTest.java:169)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)

com.bankafrica.bankingapp.controller.ControllerErrorHandlingTest.testLoginWithMissingFields -- Time elapsed: 0.006 s <<< FAILURE!
java.lang.AssertionError: 
Response content
Expected: a string containing "Email and password are required"
     but: was "Cannot invoke "com.bankafrica.bankingapp.model.User.getId()" because "user" is null"
	at org.hamcrest.MatcherAssert.assertThat(MatcherAssert.java:20)
	at org.springframework.test.web.servlet.result.ContentResultMatchers.lambda$string$3(ContentResultMatchers.java:141)
	at org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:214)
	at com.bankafrica.bankingapp.controller.ControllerErrorHandlingTest.testLoginWithMissingFields(ControllerErrorHandlingTest.java:102)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)

com.bankafrica.bankingapp.controller.ControllerErrorHandlingTest.testWithdrawWithMissingFields -- Time elapsed: 0.006 s <<< FAILURE!
java.lang.AssertionError: 
Response content
Expected: a string containing "Account ID and amount are required"
     but: was "{"error":"Withdrawal failed: Cannot invoke \"Object.toString()\" because the return value of \"java.util.Map.get(Object)\" is null"}"
	at org.hamcrest.MatcherAssert.assertThat(MatcherAssert.java:20)
	at org.springframework.test.web.servlet.result.ContentResultMatchers.lambda$string$3(ContentResultMatchers.java:141)
	at org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:214)
	at com.bankafrica.bankingapp.controller.ControllerErrorHandlingTest.testWithdrawWithMissingFields(ControllerErrorHandlingTest.java:150)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)

